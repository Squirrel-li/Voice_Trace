<template>
  <header class="header">
    <h1>ğŸ§ SpeakTrace å¤šäººèªéŸ³è¾¨è­˜å¹³å°</h1>
    <nav>
      <button 
        v-if="!isLoggedIn" 
        @click="$emit('openLogin')"
        class="nav-btn primary"
      >
        ç™»å…¥ / è¨»å†Š
      </button>
      <div v-else class="logged-in-controls">
        <button @click="$emit('openUpload')" class="nav-btn primary">ä¸Šå‚³æª”æ¡ˆ</button>
        <button @click="logout" class="nav-btn">ç™»å‡º</button>
      </div>
    </nav>
  </header>
</template>

<script setup>
import { defineProps, defineEmits } from 'vue';

// å®šç¾©çµ„ä»¶æ¥æ”¶çš„å±¬æ€§
const props = defineProps({
  isLoggedIn: {
    type: Boolean,
    required: true
  }
});

// å®šç¾©çµ„ä»¶ç™¼å‡ºçš„äº‹ä»¶
const emit = defineEmits(['openLogin', 'openRegister', 'openUpload']);

const logout = () => {
  // å¯¦éš›æ‡‰ç”¨ä¸­æ‡‰æ¸…é™¤ç™»å…¥ç‹€æ…‹å’Œ token
  alert('ç™»å‡ºæˆåŠŸ (æ¨¡æ“¬)');
  emit('openLogin'); // ç™»å‡ºå¾Œå°å›ç™»å…¥ç•«é¢æˆ–ä¸»é 
};
</script>

<style scoped>
.header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  background-color: #3f51b5; /* ä¸»è¦å“ç‰Œè‰² */
  color: white;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 500;
}
h1 {
  font-size: 1.5em;
  margin: 0;
}
.nav-btn {
  background: none;
  color: white;
  border: 1px solid white;
  padding: 8px 15px;
  margin-left: 10px;
  cursor: pointer;
  border-radius: 4px;
  transition: background-color 0.3s;
}
.nav-btn.primary {
  background-color: #ff9800; /* çªé¡¯è‰² */
  border-color: #ff9800;
}
.nav-btn:hover {
  opacity: 0.8;
}
</style>